"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[857],{5459:(S,u,t)=>{t.d(u,{f:()=>s});var m=t(9808),v=t(3075),p=t(1062),f=t(9826),z=t(7322),D=t(4107),h=t(5e3);let s=(()=>{class l{}return l.\u0275fac=function(g){return new(g||l)},l.\u0275mod=h.oAB({type:l}),l.\u0275inj=h.cJS({imports:[p.aw,m.ez,v.u5,f.Bz,z.lN,D.LD]}),l})()},7857:(S,u,t)=>{t.r(u),t.d(u,{OrderDetailPageModule:()=>ro});var m=t(5459),v=t(9808),p=t(4619),f=t(2075),z=t(6087),D=t(4847),h=t(7354),s=t(3075),l=t(7322),T=t(7531),g=t(9826),o=t(5e3);let M=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-cart-page"]],decls:1,vars:0,template:function(n,r){1&n&&o._UZ(0,"router-outlet")},dependencies:[g.lC],styles:[".example-section[_ngcontent-%COMP%]{margin:12px 0}.example-margin[_ngcontent-%COMP%]{margin:0 12px}ul[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px}"]}),a})();var I=t(8505),Z=t(262),U=t(9646),A=t(8746),y=t(5226),c=t.n(y),L=t(590);class O{static MatchPassword(i){var n,r,e,d;(null===(n=i.get("MatKhau"))||void 0===n?void 0:n.value)!==(null===(r=i.get("NhapLaiMatKhau"))||void 0===r?void 0:r.value)?null===(e=i.get("NhapLaiMatKhau"))||void 0===e||e.setErrors({ConfirmPassword:!0}):null===(d=i.get("NhapLaiMatKhau"))||void 0===d||d.setErrors(null)}}var B=t(520),R=t(6081),F=t(2340),G=t(89);let P=(()=>{class a extends R.w{constructor(n,r){super(n,r),this.API_URL=`${F.N.apiUrl}/User`,this._AuthService=r}getListPostion(){const n=this._AuthService.getHTTPHeaders();return this.http.get(this.API_URL+"/positon",{headers:n})}getListDepartmemt(){const n=this._AuthService.getHTTPHeaders();return this.http.get(this.API_URL+"/departmemt",{headers:n})}getListGroupUser(){const n=this._AuthService.getHTTPHeaders();return this.http.get(this.API_URL+"/group-user",{headers:n})}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}}return a.\u0275fac=function(n){return new(n||a)(o.LFG(B.eN),o.LFG(G.e8))},a.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const x={id:"00000000-0000-0000-0000-000000000000",fullname:"",username:"",password:"",deptId:"00000000-0000-0000-0000-000000000000",roleId:"00000000-0000-0000-0000-000000000000",phone:"",email:"",cccd:"",userId:"00000000-0000-0000-0000-000000000000",groupId:"00000000-0000-0000-0000-000000000000"};let H=(()=>{class a{constructor(n,r,e){this.UserService=n,this.fb=r,this.modal=e,this.default_value="00000000-0000-0000-0000-000000000000",this.subscriptions=[],this.templateSelection=d=>d.id?jQuery('<span class="form-select form-select-solid form-select-lg">'+d.text+"</span>"):d.text}ngOnInit(){this.isLoading$=this.UserService.isLoading$,this.loadPostion(),this.loadDepartmemt(),this.loadGroupUser(),this.loadCustom(),this.options={theme:"bootstrap5",templateSelection:this.templateSelection}}loadPostion(){this.UserService.getListPostion().subscribe(n=>{if(n&&1==n.status){const e=[{id:"00000000-0000-0000-0000-000000000000",text:"-- Ch\u1ecdn --"}];for(var r of n.items)e.push({id:r.positionId,text:r.positionName});this.positonData=e}})}loadDepartmemt(){this.UserService.getListDepartmemt().subscribe(n=>{if(n&&1==n.status){const e=[{id:"00000000-0000-0000-0000-000000000000",text:"-- Ch\u1ecdn --"}];for(var r of n.items)e.push({id:r.departmemtId,text:r.departmemtName});this.departmemtData=e}})}loadGroupUser(){this.UserService.getListGroupUser().subscribe(n=>{if(n&&1==n.status){const e=[{id:"00000000-0000-0000-0000-000000000000",text:"-- Ch\u1ecdn --"}];for(var r of n.items)e.push({id:r.groupId,text:r.groupName});this.groupUserData=e}})}loadCustom(){if(this.id){const n=this.UserService.getItemById(this.id).pipe((0,L.P)(),(0,Z.K)(r=>(this.modal.dismiss(r),(0,U.of)(x)))).subscribe(r=>{this.userData=r.items[0],this.loadForm()});this.subscriptions.push(n)}else this.userData=x,this.loadForm()}loadForm(){this.formGroup=this.fb.group({HoVaTen:[this.userData.fullname,s.kI.compose([s.kI.required,s.kI.minLength(3),s.kI.maxLength(50)])],TenDangNhap:[this.userData.username,s.kI.compose([s.kI.required,s.kI.minLength(3),s.kI.maxLength(100)])],MatKhau:[this.userData.password,[s.kI.minLength(3),s.kI.required]],ChucVu:[this.userData.roleId,[s.kI.required]],DonVi:[this.userData.deptId,[s.kI.required]],SoDienThoai:[this.userData.phone,s.kI.compose([s.kI.required,s.kI.minLength(10),s.kI.pattern(/^-?(0|[0-9]\d*)?$/)])],Email:[this.userData.email,[s.kI.required,s.kI.minLength(3),s.kI.email]],CCCD:[this.userData.cccd,s.kI.compose([s.kI.required,s.kI.minLength(10),s.kI.pattern(/^-?(0|[0-9]\d*)?$/)])],NhapLaiMatKhau:[this.userData.password,[s.kI.minLength(3),s.kI.required]],NhomNguoiDung:[this.userData.groupId,[s.kI.required]]},{validator:O.MatchPassword})}prepareCustomer(){const n=this.formGroup.value;this.userData.fullname=n.HoVaTen,this.userData.username=n.TenDangNhap,this.userData.password=n.MatKhau,this.userData.deptId=n.DonVi,this.userData.roleId=n.ChucVu,this.userData.phone=n.SoDienThoai,this.userData.email=n.Email,this.userData.cccd=n.CCCD,this.userData.groupId=n.NhomNguoiDung}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}isControlValid(n){const r=this.formGroup.controls[n];return r.valid&&(r.dirty||r.touched)}isControlInvalid(n){const r=this.formGroup.controls[n];return r.invalid&&(r.dirty||r.touched)}controlHasError(n,r){const e=this.formGroup.controls[r];return e.hasError(n)&&(e.dirty||e.touched)}isControlTouched(n){const r=this.formGroup.controls[n];return r.dirty||r.touched}controlHasErrorSelect(n){const r=this.formGroup.controls[n];return r.value===this.default_value&&(null==r||r.setErrors({select:!0})),r.invalid&&(r.dirty||r.touched)}}return a.\u0275fac=function(n){return new(n||a)(o.Y36(P),o.Y36(s.qu),o.Y36(h.Kz))},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-edit-user-modal"]],inputs:{id:"id"},decls:0,vars:0,template:function(n,r){}}),a})();var N=t(2042),C=t(868),E=t(9071);const K=[{path:"",component:M,children:[{path:"list",component:(()=>{class a{constructor(n,r,e){this.fb=n,this.modalService=r,this.billService=e,this.subscriptions=[]}ngOnInit(){}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}filterForm(){this.filterGroup=this.fb.group({status:[""],type:[""],searchTerm:[""]}),this.subscriptions.push(this.filterGroup.controls.status.valueChanges.subscribe(()=>this.filter())),this.subscriptions.push(this.filterGroup.controls.type.valueChanges.subscribe(()=>this.filter()))}filter(){const n={},r=this.filterGroup.controls.status.value;r&&(n.status=r),this.billService.patchStateBill({filter:n})}searchForm(){this.searchGroup=this.fb.group({searchTerm:[""]});const n=this.searchGroup.controls.searchTerm.valueChanges.subscribe(r=>this.search(r));this.subscriptions.push(n)}search(n){this.billService.patchStateBill({searchTerm:n})}sort(n){const r=this.sorting;r.column===n?r.direction="asc"===r.direction?"desc":"asc":(r.column=n,r.direction="asc"),this.billService.patchState({sorting:r})}paginate(n){this.billService.patchStateBill({paginator:n})}create(){this.edit(0)}edit(n){const r=this.modalService.open(H,{size:"xl"});r.componentInstance.id=n,r.result.then(()=>this.billService.fetchBill(),()=>{})}delete(n){c().fire({title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ?",text:"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then(r=>{r.isConfirmed&&(this.isLoading=!0,n.isDel=!0,this.billService.update(n).pipe((0,I.b)(d=>{c().fire({icon:1==d.status?"success":"error",title:1==d.status?"Th\xe0nh c\xf4ng":"Th\u1ea5t b\u1ea1i",confirmButtonText:"X\xe1c nh\u1eadn",text:""+(1==d.status?"X\xf3a th\xe0nh c\xf4ng":d.error.msg)}),this.filter()}),(0,Z.K)(d=>(0,U.of)(void 0)),(0,A.x)(()=>{this.isLoading=!1})).subscribe())})}deleteSelected(){c().fire({title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ?",text:"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then(n=>{n.isConfirmed&&(this.isLoading=!0,this.billService.deleteItems(this.grouping.getSelectedRows()).pipe((0,I.b)(e=>{c().fire({icon:1==e.status?"success":"error",title:1==e.status?"Th\xe0nh c\xf4ng":"Th\u1ea5t b\u1ea1i",confirmButtonText:"X\xe1c nh\u1eadn",text:""+(1==e.status?"X\xf3a s\u1eeda th\xe0nh c\xf4ng":e.error.msg)}),this.filter()}),(0,Z.K)(e=>(0,U.of)(void 0)),(0,A.x)(()=>{this.isLoading=!1})).subscribe())})}updateStatusForSelected(){}fetchSelected(){}}return a.\u0275fac=function(n){return new(n||a)(o.Y36(s.qu),o.Y36(h.FF),o.Y36(N.C))},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-table-order-detail-page"]],decls:66,vars:0,consts:[[1,"container"],[1,"hr"],["nzTitle","T\u1ea5t c\u1ea3"],[1,"input-group","rounded","mb-3","mt-2"],["type","search","placeholder","T\xecm \u0111\u01a1n h\xe0ng theo M\xe3 \u0111\u01a1n h\xe0ng, Nh\xe0 b\xe1n ho\u1eb7c T\xean s\u1ea3n ph\u1ea9m","aria-label","Search","aria-describedby","search-addon",1,"form-control","rounded"],["id","search-addon",1,"input-group-text","border-0"],[1,"fas","fa-search"],["id","ex1-tabs-1","role","tabpanel","aria-labelledby","ex1-tab-1",1,"tab-pane","fade","show","active",2,"height","600px"],["appendOnly","","itemSize","50",1,"example-viewport"],["href","detail-order"],["src","assets\\img\\test.jpg",1,"mx-auto","d-block",2,"width","1000px"],["nzTitle","Ch\u1edd x\xe1c nh\u1eadn"],["src","assets\\img\\clipboard1.png",1,"mx-auto","d-block",2,"height","400px","width","400px"],["nzTitle","Ch\u1edd l\u1ea5y h\xe0ng"],["nzTitle","\u0110ang giao"],["nzTitle","\u0110\xe3 giao"],["nzTitle","\u0110\xe3 h\u1ee7y"]],template:function(n,r){1&n&&(o.TgZ(0,"div",0)(1,"p"),o._uU(2,"\u0110\u01a1n h\xe0ng c\u1ee7a t\xf4i"),o.qZA(),o._UZ(3,"hr",1),o.TgZ(4,"nz-tabset")(5,"nz-tab",2)(6,"div",3),o._UZ(7,"input",4),o.TgZ(8,"span",5),o._UZ(9,"i",6),o.qZA()(),o.TgZ(10,"div",7)(11,"cdk-virtual-scroll-viewport",8)(12,"a",9),o._UZ(13,"img",10),o.qZA(),o.TgZ(14,"a",9),o._UZ(15,"img",10),o.qZA(),o.TgZ(16,"a",9),o._UZ(17,"img",10),o.qZA(),o.TgZ(18,"a",9),o._UZ(19,"img",10),o.qZA(),o.TgZ(20,"a",9),o._UZ(21,"img",10),o.qZA(),o.TgZ(22,"a",9),o._UZ(23,"img",10),o.qZA(),o.TgZ(24,"a",9),o._UZ(25,"img",10),o.qZA(),o.TgZ(26,"a",9),o._UZ(27,"img",10),o.qZA(),o.TgZ(28,"a",9),o._UZ(29,"img",10),o.qZA(),o.TgZ(30,"a",9),o._UZ(31,"img",10),o.qZA(),o.TgZ(32,"a",9),o._UZ(33,"img",10),o.qZA(),o.TgZ(34,"a",9),o._UZ(35,"img",10),o.qZA()()()(),o.TgZ(36,"nz-tab",11)(37,"div",3),o._UZ(38,"input",4),o.TgZ(39,"span",5),o._UZ(40,"i",6),o.qZA()(),o._UZ(41,"img",12),o.qZA(),o.TgZ(42,"nz-tab",13)(43,"div",3),o._UZ(44,"input",4),o.TgZ(45,"span",5),o._UZ(46,"i",6),o.qZA()(),o._UZ(47,"img",12),o.qZA(),o.TgZ(48,"nz-tab",14)(49,"div",3),o._UZ(50,"input",4),o.TgZ(51,"span",5),o._UZ(52,"i",6),o.qZA()(),o._UZ(53,"img",12),o.qZA(),o.TgZ(54,"nz-tab",15)(55,"div",3),o._UZ(56,"input",4),o.TgZ(57,"span",5),o._UZ(58,"i",6),o.qZA()(),o._UZ(59,"img",12),o.qZA(),o.TgZ(60,"nz-tab",16)(61,"div",3),o._UZ(62,"input",4),o.TgZ(63,"span",5),o._UZ(64,"i",6),o.qZA()(),o._UZ(65,"img",12),o.qZA()()())},dependencies:[C.xH,C.xw,E.xd,E.N7],encapsulation:2,changeDetection:0}),a})()},{path:"",redirectTo:"list",pathMatch:"full"},{path:"**",redirectTo:"list",pathMatch:"full"}]}];let X=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[g.Bz.forChild(K),g.Bz]}),a})();var Y=t(2181),j=t(7073),b=t(6856),V=t(9552),J=t(2359),W=t(1083),$=t(9306),Q=t(6699),k=t(5257),w=t(4401),q=t(1758),_=t(6042),tt=t(8455),ot=t(7484),nt=t(4973),rt=t(843),at=t(6114),st=t(5482),et=t(1344),it=t(4832),dt=t(2295),lt=t(2643),ht=t(2905),gt=t(3098),ut=t(5737),ct=t(4147),mt=t(3677),vt=t(685),pt=t(4546),ft=t(1894),zt=t(114),Dt=t(2124),Tt=t(1047),Zt=t(656),Ut=t(4573),Ct=t(3762),Et=t(4921),It=t(4219),At=t(9727),Pt=t(3640),xt=t(5278),St=t(1945),Mt=t(1711),yt=t(2121),Lt=t(3610),Ot=t(4342),Bt=t(3868),Rt=t(6761),Ft=t(3478),Gt=t(8054),Ht=t(6559),Nt=t(3422),Kt=t(9590),Xt=t(5249),Yt=t(2013),jt=t(6462),bt=t(939),Vt=t(8481),Jt=t(4173),Wt=t(2712),$t=t(404),Qt=t(7340),kt=t(3237),wt=t(4379),qt=t(4474),_t=t(5052),to=t(3446),oo=t(2051),no=t(3704);let ro=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({providers:[P],imports:[v.ez,X,p.vi,f.p0,z.TU,D.JX,h.IJ,s.u5,s.UX,l.lN,T.c,Y.Tx,m.f,j.b,b.FA,V.j,J.L,W.on,$.ic,Q.Rt,k.j,w.mS,_.sL,q.lt,tt.RQ,ot.vh,nt.vB,rt.Fs,at.Wr,st.cD,et.YM,ht.Hb,gt.q6,ut.S,ct.BL,mt.b1,vt.Xo,pt.U5,ft.Jb,zt.YI,Dt.PV,Tt.o7,Zt.Zf,Ut.wm,Ct.Ph,Et.Gl,It.ip,At.gR,Pt.Qp,it.g,xt.L8,St.KJ,Mt.uK,yt._p,Lt.$6,Ot.W,Bt.aF,Rt.Ju,Ft.XD,Gt.LV,Ht.H0,Nt.N3,Kt.j,Xt.A2,Yt.N6,jt.m,bt.HQ,C.we,Vt.X,Jt.wY,Wt.FT,$t.cg,dt.R,Qt.st,kt.vO,wt.cq,qt.ZJ,_t.cS,lt.vG,to.GS,oo.YS,E.Cl,no.S]}),a})()}}]);