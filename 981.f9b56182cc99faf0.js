"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[981],{7981:(Dt,C,u)=>{u.r(C),u.d(C,{UserPageModule:()=>Ut});var E=u(5459),d=u(9808),b=u(4619),x=u(2075),Z=u(6087),U=u(4847),p=u(7354),a=u(3075),D=u(7322),A=u(7531),f=u(9826),t=u(5e3);let I=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-page"]],decls:1,vars:0,template:function(e,o){1&e&&t._UZ(0,"router-outlet")},dependencies:[f.lC],styles:["app-user-page{width:100%}"]}),n})();var h=u(8505),m=u(262),g=u(9646),_=u(8746),k=u(5226),l=u.n(k),N=u(590),y=u(520),q=u(6081),F=u(2340),M=u(89);let v=(()=>{class n extends q.w{constructor(e,o){super(e,o),this.API_URL=`${F.N.apiUrl}/User`,this._AuthService=o}getListPostion(){const e=this._AuthService.getHTTPHeaders();return this.http.get(this.API_URL+"/positon",{headers:e})}getListDepartmemt(){const e=this._AuthService.getHTTPHeaders();return this.http.get(this.API_URL+"/departmemt",{headers:e})}getListGroupUser(){const e=this._AuthService.getHTTPHeaders();return this.http.get(this.API_URL+"/group-user",{headers:e})}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(y.eN),t.LFG(M.e8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var J=u(9865);function B(n,i){1&n&&(t.ynx(0),t._uU(1,"Ch\u1ec9nh s\u1eeda"),t.BQk())}function S(n,i){1&n&&(t.ynx(0),t._uU(1,"Th\xeam m\u1edbi"),t.BQk())}function w(n,i){if(1&n&&(t.ynx(0),t.YNc(1,B,2,0,"ng-container",3),t.YNc(2,S,2,0,"ng-container",3),t._uU(3," ng\u01b0\u1eddi d\xf9ng "),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.userData.id),t.xp6(1),t.Q6J("ngIf",!e.userData.id)}}function H(n,i){1&n&&(t.ynx(0),t.TgZ(1,"div",7),t._UZ(2,"div",8),t.qZA(),t.BQk())}function Q(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"B\u1eaft bu\u1ed9c"),t.qZA())}function L(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"T\xean \xedt nh\u1ea5t 3 k\xfd t\u1ef1 "),t.qZA())}function Y(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"T\xean t\u1ed1i \u0111a 50 k\xfd t\u1ef1 "),t.qZA())}function G(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"B\u1eaft bu\u1ed9c"),t.qZA())}function V(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1," T\xean \xedt nh\u1ea5t 3 k\xfd t\u1ef1"),t.qZA())}function K(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1," T\xean t\u1ed1i \u0111a 50 k\xfd t\u1ef1"),t.qZA())}function j(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"B\u1eaft bu\u1ed9c"),t.qZA())}function P(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"T\xean \xedt nh\u1ea5t 3 k\xfd t\u1ef1"),t.qZA())}function O(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1," B\u1eaft bu\u1ed9c"),t.qZA())}function X(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"T\xean \xedt nh\u1ea5t 3 k\xfd t\u1ef1"),t.qZA())}function $(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"B\u1eaft bu\u1ed9c "),t.qZA())}function R(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"B\u1eaft bu\u1ed9c "),t.qZA())}function z(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1," B\u1eaft bu\u1ed9c"),t.qZA())}function W(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"B\u1eaft bu\u1ed9c"),t.qZA())}function tt(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"Vui l\xf2ng nh\u1eadp s\u1ed1"),t.qZA())}function et(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1," T\xean \xedt nh\u1ea5t 10 k\xfd t\u1ef1"),t.qZA())}function nt(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"B\u1eaft bu\u1ed9c "),t.qZA())}function ot(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"Sai \u0111\u1ecbnh d\u1ea1ng"),t.qZA())}function it(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"T\xean \xedt nh\u1ea5t 10 k\xfd t\u1ef1"),t.qZA())}function rt(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"B\u1eaft bu\u1ed9c "),t.qZA())}function at(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"Vui l\xf2ng nh\u1eadp s\u1ed1"),t.qZA())}function st(n,i){1&n&&(t.TgZ(0,"div",31),t._uU(1,"T\xean \xedt nh\u1ea5t 10 k\xfd t\u1ef1"),t.qZA())}function ut(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",9)(2,"form",10)(3,"div",11)(4,"label",12),t._uU(5,"H\u1ecd v\xe0 t\xean"),t.qZA(),t.TgZ(6,"div",13)(7,"div",14)(8,"div",15),t._UZ(9,"input",16),t.YNc(10,Q,2,0,"div",17),t.YNc(11,L,2,0,"div",17),t.YNc(12,Y,2,0,"div",17),t.qZA()()()(),t.TgZ(13,"div",11)(14,"label",12),t._uU(15,"T\xean \u0111\u0103ng nh\u1eadp"),t.qZA(),t.TgZ(16,"div",18),t._UZ(17,"input",19),t.YNc(18,G,2,0,"div",17),t.YNc(19,V,2,0,"div",17),t.YNc(20,K,2,0,"div",17),t.qZA()(),t.TgZ(21,"div",11)(22,"label",20)(23,"span",21),t._uU(24,"M\u1eadt kh\u1ea9u"),t.qZA()(),t.TgZ(25,"div",22),t._UZ(26,"input",23),t.YNc(27,j,2,0,"div",17),t.YNc(28,P,2,0,"div",17),t.qZA(),t.TgZ(29,"label",20)(30,"span",21),t._uU(31,"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"),t.qZA()(),t.TgZ(32,"div",22),t._UZ(33,"input",24),t.YNc(34,O,2,0,"div",17),t.YNc(35,X,2,0,"div",17),t.qZA()(),t.TgZ(36,"div",11)(37,"label",20)(38,"span",21),t._uU(39,"Ch\u1ee9c v\u1ee5"),t.qZA()(),t.TgZ(40,"div",22),t._UZ(41,"app-select-custom",25),t.YNc(42,$,2,0,"div",17),t.qZA(),t.TgZ(43,"label",20)(44,"span",21),t._uU(45,"\u0110\u01a1n v\u1ecb"),t.qZA()(),t.TgZ(46,"div",22),t._UZ(47,"app-select-custom",26),t.YNc(48,R,2,0,"div",17),t.qZA()(),t.TgZ(49,"div",11)(50,"label",20)(51,"span",21),t._uU(52,"Nh\xf3m ng\u01b0\u1eddi d\xf9ng"),t.qZA()(),t.TgZ(53,"div",18),t._UZ(54,"app-select-custom",27),t.YNc(55,z,2,0,"div",17),t.qZA()(),t.TgZ(56,"div",11)(57,"label",12),t._uU(58,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),t.qZA(),t.TgZ(59,"div",18),t._UZ(60,"input",28),t.YNc(61,W,2,0,"div",17),t.YNc(62,tt,2,0,"div",17),t.YNc(63,et,2,0,"div",17),t.qZA()(),t.TgZ(64,"div",11)(65,"label",12),t._uU(66,"Email"),t.qZA(),t.TgZ(67,"div",18),t._UZ(68,"input",29),t.YNc(69,nt,2,0,"div",17),t.YNc(70,ot,2,0,"div",17),t.YNc(71,it,2,0,"div",17),t.qZA()(),t.TgZ(72,"div",11)(73,"label",12),t._uU(74,"CCCD/CMND"),t.qZA(),t.TgZ(75,"div",18),t._UZ(76,"input",30),t.YNc(77,rt,2,0,"div",17),t.YNc(78,at,2,0,"div",17),t.YNc(79,st,2,0,"div",17),t.qZA()()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("formGroup",e.formGroup),t.xp6(7),t.ekj("is-invalid",e.isControlInvalid("HoVaTen"))("is-valid",e.isControlValid("HoVaTen")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("required","HoVaTen")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("minlength","HoVaTen")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("maxLength","HoVaTen")),t.xp6(5),t.ekj("is-invalid",e.isControlInvalid("TenDangNhap"))("is-valid",e.isControlValid("TenDangNhap")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("required","TenDangNhap")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("minlength","TenDangNhap")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("maxLength","TenDangNhap")),t.xp6(6),t.ekj("is-invalid",e.isControlInvalid("MatKhau"))("is-valid",e.isControlValid("MatKhau")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("required","MatKhau")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("minlength","MatKhau")),t.xp6(5),t.ekj("is-invalid",e.isControlInvalid("NhapLaiMatKhau"))("is-valid",e.isControlValid("NhapLaiMatKhau")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("required","NhapLaiMatKhau")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("minlength","NhapLaiMatKhau")),t.xp6(6),t.Q6J("width","100%")("placeholder","Ch\u1ee9c v\u1ee5")("data",e.positonData)("options",e.options),t.xp6(1),t.Q6J("ngIf",e.controlHasError("required","ChucVu")),t.xp6(5),t.Q6J("width","100%")("placeholder","\u0110\u01a1n v\u1ecb")("data",e.departmemtData)("options",e.options),t.xp6(1),t.Q6J("ngIf",e.controlHasError("required","DonVi")),t.xp6(6),t.Q6J("width","100%")("placeholder","Nh\xf3m ng\u01b0\u1eddi d\xf9ng")("data",e.groupUserData)("options",e.options),t.xp6(1),t.Q6J("ngIf",e.controlHasError("required","NhomNguoiDung")),t.xp6(5),t.ekj("is-invalid",e.isControlInvalid("SoDienThoai"))("is-valid",e.isControlValid("SoDienThoai")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("required","SoDienThoai")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("pattern","SoDienThoai")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("minlength","SoDienThoai")),t.xp6(5),t.ekj("is-invalid",e.isControlInvalid("Email"))("is-valid",e.isControlValid("Email")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("required","Email")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("email","Email")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("minlength","Email")),t.xp6(5),t.ekj("is-invalid",e.isControlInvalid("CCCD"))("is-valid",e.isControlValid("CCCD")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("required","CCCD")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("pattern","CCCD")),t.xp6(1),t.Q6J("ngIf",e.controlHasError("minlength","CCCD"))}}function ct(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",32),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.save())}),t._uU(2,"L\u01b0u"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.formGroup.invalid)}}const c={id:"00000000-0000-0000-0000-000000000000",fullname:"",username:"",password:"",deptId:"00000000-0000-0000-0000-000000000000",roleId:"00000000-0000-0000-0000-000000000000",phone:"",email:"",cccd:"",userId:"00000000-0000-0000-0000-000000000000",groupId:"00000000-0000-0000-0000-000000000000"};let lt=(()=>{class n{constructor(e,o,r){this.UserService=e,this.fb=o,this.modal=r,this.default_value="00000000-0000-0000-0000-000000000000",this.subscriptions=[],this.templateSelection=s=>s.id?jQuery('<span class="form-select form-select-solid form-select-lg">'+s.text+"</span>"):s.text}ngOnInit(){this.isLoading$=this.UserService.isLoading$,this.loadPostion(),this.loadDepartmemt(),this.loadGroupUser(),this.loadCustom(),this.options={theme:"bootstrap5",templateSelection:this.templateSelection}}loadPostion(){this.UserService.getListPostion().subscribe(e=>{if(e&&1==e.status){const r=[{id:"00000000-0000-0000-0000-000000000000",text:"-- Ch\u1ecdn --"}];for(var o of e.items)r.push({id:o.positionId,text:o.positionName});this.positonData=r}})}loadDepartmemt(){this.UserService.getListDepartmemt().subscribe(e=>{if(e&&1==e.status){const r=[{id:"00000000-0000-0000-0000-000000000000",text:"-- Ch\u1ecdn --"}];for(var o of e.items)r.push({id:o.departmemtId,text:o.departmemtName});this.departmemtData=r}})}loadGroupUser(){this.UserService.getListGroupUser().subscribe(e=>{if(e&&1==e.status){const r=[{id:"00000000-0000-0000-0000-000000000000",text:"-- Ch\u1ecdn --"}];for(var o of e.items)r.push({id:o.groupId,text:o.groupName});this.groupUserData=r}})}clear(){c.id="00000000-0000-0000-0000-000000000000",c.fullname="",c.username="",c.password="",c.deptId="00000000-0000-0000-0000-000000000000",c.roleId="00000000-0000-0000-0000-000000000000",c.phone="",c.email="",c.cccd="",c.userId="00000000-0000-0000-0000-000000000000",c.groupId="00000000-0000-0000-0000-000000000000"}loadCustom(){if(this.id){const e=this.UserService.getItemById(this.id).pipe((0,N.P)(),(0,m.K)(o=>(this.modal.dismiss(o),(0,g.of)(c)))).subscribe(o=>{this.userData=o.items[0],this.loadForm()});this.subscriptions.push(e)}else this.userData=c,this.loadForm()}loadForm(){this.formGroup=this.fb.group({HoVaTen:[this.userData.fullname,a.kI.compose([a.kI.required,a.kI.minLength(3),a.kI.maxLength(50)])],TenDangNhap:[this.userData.username,a.kI.compose([a.kI.required,a.kI.minLength(3),a.kI.maxLength(100)])],MatKhau:[this.userData.password,[a.kI.minLength(3),a.kI.required]],ChucVu:[this.userData.roleId,[a.kI.required]],DonVi:[this.userData.deptId,[a.kI.required]],SoDienThoai:[this.userData.phone,a.kI.compose([a.kI.required,a.kI.minLength(10),a.kI.pattern(/^-?(0|[0-9]\d*)?$/)])],Email:[this.userData.email,[a.kI.required,a.kI.minLength(3),a.kI.email]],CCCD:[this.userData.cccd,a.kI.compose([a.kI.required,a.kI.minLength(10),a.kI.pattern(/^-?(0|[0-9]\d*)?$/)])],NhapLaiMatKhau:[this.userData.password,[a.kI.minLength(3),a.kI.required]],NhomNguoiDung:[this.userData.groupId,[a.kI.required]]})}save(){this.prepareCustomer(),this.userData.userId&&this.userData.userId!==this.default_value?this.edit():this.create()}edit(){this.userData.id=this.id+"";const e=this.UserService.update(this.userData).pipe((0,h.b)(()=>{this.modal.close()}),(0,m.K)(o=>(this.modal.dismiss(o),(0,g.of)(this.userData)))).subscribe(o=>{l().fire({icon:1==o.status?"success":"error",title:1==o.status?"Ch\u1ec9nh s\u1eeda th\xe0nh c\xf4ng":"Ch\u1ec9nh s\u1eeda th\u1ea5t b\u1ea1i",confirmButtonText:"X\xe1c nh\u1eadn",text:"Ch\u1ec9nh s\u1eeda "+(1==o.status?"th\xe0nh c\xf4ng":"th\u1ea5t b\u1ea1i")}),this.userData=c});this.subscriptions.push(e)}create(){const e=this.UserService.create(this.userData).pipe((0,h.b)(()=>{this.modal.close()}),(0,m.K)(o=>(this.modal.dismiss(o),(0,g.of)(this.userData)))).subscribe(o=>{l().fire({icon:1==o.status?"success":"error",title:1==o.status?"Th\xeam m\u1edbi th\xe0nh c\xf4ng":"Th\xeam m\u1edbi th\u1ea5t b\u1ea1i",confirmButtonText:"X\xe1c nh\u1eadn",text:"Th\xeam m\u1edbi "+(1==o.status?"th\xe0nh c\xf4ng":"th\u1ea5t b\u1ea1i")}),this.clear(),this.userData=c});this.subscriptions.push(e)}prepareCustomer(){const e=this.formGroup.value;this.userData.fullname=e.HoVaTen,this.userData.username=e.TenDangNhap,this.userData.password=e.MatKhau,this.userData.deptId=e.DonVi,this.userData.roleId=e.ChucVu,this.userData.phone=e.SoDienThoai,this.userData.email=e.Email,this.userData.cccd=e.CCCD,this.userData.groupId=e.NhomNguoiDung}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}isControlValid(e){const o=this.formGroup.controls[e];return o.valid&&(o.dirty||o.touched)}isControlInvalid(e){const o=this.formGroup.controls[e];return o.invalid&&(o.dirty||o.touched)}controlHasError(e,o){const r=this.formGroup.controls[o];return r.hasError(e)&&(r.dirty||r.touched)}isControlTouched(e){const o=this.formGroup.controls[e];return o.dirty||o.touched}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v),t.Y36(a.qu),t.Y36(p.Kz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-user-modal"]],inputs:{id:"id"},decls:12,vars:6,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4"],[4,"ngIf"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],[1,"overlay-layer","bg-transparent"],[1,"spinner","spinner-lg","spinner-success"],["id","kt_account_settings_profile_details",1,"collapse","show"],["id","kt_account_profile_details_form",1,"form",3,"formGroup"],[1,"row","mb-6"],[1,"col-lg-2","col-form-label","required","fw-semibold","fs-6"],[1,"col-lg-10"],[1,"row"],[1,"col-lg-12","fv-row"],["formControlName","HoVaTen","type","text","placeholder","H\u1ecd v\xe0 t\xean",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-10","fv-row"],["formControlName","TenDangNhap","type","text","placeholder","T\xean \u0111\u0103ng nh\u1eadp",1,"form-control","form-control-lg","form-control-solid"],[1,"col-lg-2","col-form-label","fw-semibold","fs-6"],[1,"required"],[1,"col-lg-4","fv-row"],["formControlName","MatKhau","type","password","placeholder","M\u1eadt kh\u1ea9u",1,"form-control","form-control-lg","form-control-solid"],["formControlName","NhapLaiMatKhau","type","password","placeholder","Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",1,"form-control","form-control-lg","form-control-solid"],["formControlName","ChucVu",3,"width","placeholder","data","options"],["formControlName","DonVi",3,"width","placeholder","data","options"],["formControlName","NhomNguoiDung",3,"width","placeholder","data","options"],["formControlName","SoDienThoai","type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",1,"form-control","form-control-lg","form-control-solid"],["formControlName","Email","type","text","placeholder","Email",1,"form-control","form-control-lg","form-control-solid"],["formControlName","CCCD","type","text","placeholder","CCCD/CMND",1,"form-control","form-control-lg","form-control-solid"],[1,"invalid-feedback"],["type","submit",1,"btn","btn-primary","btn-elevate",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,w,4,2,"ng-container",3),t.qZA()(),t.TgZ(4,"div",4),t.YNc(5,H,3,0,"ng-container",3),t.ALo(6,"async"),t.YNc(7,ut,80,63,"ng-container",3),t.qZA(),t.TgZ(8,"div",5)(9,"button",6),t.NdJ("click",function(){return o.modal.dismiss()}),t._uU(10,"Tho\xe1t"),t.qZA(),t.YNc(11,ct,3,1,"ng-container",3),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("ngIf",o.userData),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,4,o.isLoading$)),t.xp6(2),t.Q6J("ngIf",o.userData),t.xp6(4),t.Q6J("ngIf",o.userData))},dependencies:[d.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,J.B,d.Ov]}),n})();var dt=u(2917),pt=u(9004),mt=u(4355);function gt(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",34)(2,"button",35)(3,"span",36),t.O4$(),t.TgZ(4,"svg",13),t._UZ(5,"path",37),t.qZA()(),t._uU(6,"Filter"),t.qZA(),t.kcU(),t.TgZ(7,"div",38)(8,"div",39)(9,"div",40),t._uU(10,"Filter Options"),t.qZA()(),t._UZ(11,"div",41),t.qZA(),t.TgZ(12,"button",42)(13,"span",36),t.O4$(),t.TgZ(14,"svg",13),t._UZ(15,"rect",43)(16,"path",44)(17,"path",45),t.qZA()(),t._uU(18,"Export"),t.qZA(),t.kcU(),t.TgZ(19,"button",46),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.create())}),t._uU(20,"Th\xeam m\u1edbi"),t.qZA()(),t.BQk()}}function ht(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",47)(2,"div",48)(3,"span",49),t._uU(4),t.qZA(),t._uU(5,"Selected"),t.qZA(),t.TgZ(6,"button",50),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.deleteSelected())}),t._uU(7,"Delete Selected"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(e.grouping.selectedRowIds.size)}}function ft(n,i){1&n&&(t.TgZ(0,"div",61),t._uU(1,"Ho\u1ea1t \u0111\u1ed9ng"),t.qZA())}function _t(n,i){1&n&&(t.TgZ(0,"div",62),t._uU(1,"t\u1ea1m kh\xf3a"),t.qZA())}function vt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"a",59),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,s=t.oxw();return t.KtG(s.lockUser(r))}),t._uU(1,"M\u1edf kh\xf3a ng\u01b0\u1eddi d\xf9ng"),t.qZA()}}function Tt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"a",59),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,s=t.oxw();return t.KtG(s.lockUser(r))}),t._uU(1,"Kh\xf3a ng\u01b0\u1eddi d\xf9ng"),t.qZA()}}function Ct(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t.YNc(8,ft,2,0,"div",51),t.YNc(9,_t,2,0,"div",52),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td",53)(15,"div",54)(16,"a",55),t._uU(17,"H\xe0nh \u0111\u1ed9ng "),t.qZA(),t.TgZ(18,"div",56)(19,"div",57)(20,"a",58),t.NdJ("click",function(){const s=t.CHM(e).$implicit,T=t.oxw();return t.KtG(T.edit(s.userId))}),t._uU(21,"Ch\u1ec9nh s\u1eeda"),t.qZA()(),t.TgZ(22,"div",57)(23,"a",59),t.NdJ("click",function(){const s=t.CHM(e).$implicit,T=t.oxw();return t.KtG(T.delete(s))}),t._uU(24,"X\xf3a ng\u01b0\u1eddi d\xf9ng"),t.qZA()(),t.TgZ(25,"div",57),t.YNc(26,vt,2,0,"a",60),t.YNc(27,Tt,2,0,"a",60),t.qZA()()()()()}if(2&n){const e=i.$implicit,o=i.index;t.xp6(2),t.hij(" ",o+1," "),t.xp6(2),t.hij(" ",e.username," "),t.xp6(2),t.hij(" ",e.fullname," "),t.xp6(2),t.Q6J("ngIf",0===e.status),t.xp6(1),t.Q6J("ngIf",1===e.status),t.xp6(2),t.hij(" ",e.groupName," "),t.xp6(2),t.hij(" ",e.deptName," "),t.xp6(13),t.Q6J("ngIf",1===e.status),t.xp6(1),t.Q6J("ngIf",0===e.status)}}const Et=[{path:"",component:I,children:[{path:"list",component:(()=>{class n{constructor(e,o,r){this.fb=e,this.userService=o,this.modalService=r,this.subscriptions=[]}ngOnInit(){this.filterForm(),this.searchForm(),this.userService.fetch(),this.grouping=this.userService.grouping,this.paginator=this.userService.paginator,this.sorting=this.userService.sorting;const e=this.userService.isLoading$.subscribe(o=>this.isLoading=o);this.subscriptions.push(e)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}filterForm(){this.filterGroup=this.fb.group({status:[""],type:[""],searchTerm:[""]}),this.subscriptions.push(this.filterGroup.controls.status.valueChanges.subscribe(()=>this.filter())),this.subscriptions.push(this.filterGroup.controls.type.valueChanges.subscribe(()=>this.filter()))}filter(){const e={},o=this.filterGroup.controls.status.value;o&&(e.status=o),this.userService.patchState({filter:e})}searchForm(){this.searchGroup=this.fb.group({searchTerm:[""]});const e=this.searchGroup.controls.searchTerm.valueChanges.subscribe(o=>this.search(o));this.subscriptions.push(e)}search(e){this.userService.patchState({searchTerm:e})}sort(e){const o=this.sorting;o.column===e?o.direction="asc"===o.direction?"desc":"asc":(o.column=e,o.direction="asc"),this.userService.patchState({sorting:o})}paginate(e){this.userService.patchState({paginator:e})}create(){this.edit(0)}edit(e){const o=this.modalService.open(lt,{size:"xl"});o.componentInstance.id=e,o.result.then(()=>this.userService.fetch(),()=>{})}delete(e){l().fire({title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ?",text:"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then(o=>{o.isConfirmed&&(this.isLoading=!0,e.isDel=!0,this.userService.update(e).pipe((0,h.b)(s=>{l().fire({icon:1==s.status?"success":"error",title:1==s.status?"Th\xe0nh c\xf4ng":"Th\u1ea5t b\u1ea1i",confirmButtonText:"X\xe1c nh\u1eadn",text:"X\xf3a "+(1==s.status?"th\xe0nh c\xf4ng":"th\u1ea5t b\u1ea1i")}),this.filter()}),(0,m.K)(s=>(0,g.of)(void 0)),(0,_.x)(()=>{this.isLoading=!1})).subscribe())})}deleteSelected(){l().fire({title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ?",text:"H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then(e=>{e.isConfirmed&&(this.isLoading=!0,this.userService.deleteItems(this.grouping.getSelectedRows()).pipe((0,h.b)(r=>{l().fire({icon:1==r.status?"success":"error",title:1==r.status?"Th\xe0nh c\xf4ng":"Th\u1ea5t b\u1ea1i",confirmButtonText:"X\xe1c nh\u1eadn",text:"X\xf3a "+(1==r.status?"th\xe0nh c\xf4ng":"th\u1ea5t b\u1ea1i")}),this.filter()}),(0,m.K)(r=>(0,g.of)(void 0)),(0,_.x)(()=>{this.isLoading=!1})).subscribe())})}lockUser(e){l().fire({title:1===e.status?"B\u1ea1n c\xf3 mu\u1ed1n m\u1edf kh\xf3a ng\u01b0\u1eddi d\xf9ng n\xe0y ?":"B\u1ea1n c\xf3 mu\u1ed1n kh\xf3a ng\u01b0\u1eddi d\xf9ng n\xe0y ?",text:"Kh\xf3a ho\u1eb7c m\u1edf kh\xf3a ng\u01b0\u1eddi d\xf9ng",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then(o=>{o.isConfirmed&&(this.isLoading=!0,e.status=1===e.status?0:1,this.userService.update(e).pipe((0,h.b)(s=>{l().fire({icon:1==s.status?"success":"error",title:1==s.status?"Th\xe0nh c\xf4ng":"Th\u1ea5t b\u1ea1i",confirmButtonText:"X\xe1c nh\u1eadn",text:"Thao t\xe1c "+(1==s.status?"th\xe0nh c\xf4ng":"th\u1ea5t b\u1ea1i")}),this.filter()}),(0,m.K)(s=>(0,g.of)(void 0)),(0,_.x)(()=>{this.isLoading=!1})).subscribe())})}updateStatusForSelected(){}fetchSelected(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.qu),t.Y36(v),t.Y36(p.FF))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-table-user"]],decls:51,vars:20,consts:[["id","kt_app_main",1,"app-main","flex-column","flex-row-fluid"],[1,"d-flex","flex-column","flex-column-fluid"],["id","kt_app_toolbar",1,"app-toolbar","py-3","py-lg-6"],["id","kt_app_toolbar_container",1,"app-container","container-xxl","d-flex","flex-stack"],[1,"page-title","d-flex","flex-column","justify-content-center","flex-wrap","me-3"],[1,"page-heading","d-flex","text-dark","fw-bold","fs-3","flex-column","justify-content-center","my-0","mb-2"],["id","kt_app_content",1,"app-content","flex-column-fluid"],["id","kt_app_content_container",1,"app-container","container-xxl"],[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1",3,"formGroup"],[1,"svg-icon","svg-icon-1","position-absolute","ms-6"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["opacity","0.5","x","17.0365","y","15.1223","width","8.15546","height","2","rx","1","transform","rotate(45 17.0365 15.1223)","fill","currentColor"],["d","M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z","fill","currentColor"],["type","text","formControlName","searchTerm","data-kt-customer-table-filter","search","placeholder","T\xecm ki\u1ebfm",1,"form-control","form-control-solid","w-250px","ps-15"],[1,"card-toolbar"],[4,"ngIf"],[1,"card-body","pt-0"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5","dataTable"],[1,"text-start","text-gray-400","fw-bold","fs-7","text-uppercase","gs-0"],[1,"min-w-25px"],["column","Id",3,"activeColumn","activeDirection","sort"],[1,"min-w-125px"],["column","Username",3,"activeColumn","activeDirection","sort"],["column","Fullname",3,"activeColumn","activeDirection","sort"],["column","Status",3,"activeColumn","activeDirection","sort"],["column","GroupUser",3,"activeColumn","activeDirection","sort"],["column","DeptUser",3,"activeColumn","activeDirection","sort"],[1,"text-end","min-w-70px"],[1,"fw-semibold","text-gray-600"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap",3,"paginator","isLoading","paginate"],["data-kt-customer-table-toolbar","base",1,"d-flex","justify-content-end"],["type","button","data-kt-menu-trigger","click","data-kt-menu-placement","bottom-end",1,"btn","btn-light-primary","me-3"],[1,"svg-icon","svg-icon-2"],["d","M19.0759 3H4.72777C3.95892 3 3.47768 3.83148 3.86067 4.49814L8.56967 12.6949C9.17923 13.7559 9.5 14.9582 9.5 16.1819V19.5072C9.5 20.2189 10.2223 20.7028 10.8805 20.432L13.8805 19.1977C14.2553 19.0435 14.5 18.6783 14.5 18.273V13.8372C14.5 12.8089 14.8171 11.8056 15.408 10.964L19.8943 4.57465C20.3596 3.912 19.8856 3 19.0759 3Z","fill","currentColor"],["data-kt-menu","true","id","kt-toolbar-filter",1,"menu","menu-sub","menu-sub-dropdown","w-300px","w-md-325px"],[1,"px-7","py-5"],[1,"fs-4","text-dark","fw-bold"],[1,"separator","border-gray-200"],["type","button","data-bs-toggle","modal","data-bs-target","#kt_customers_export_modal",1,"btn","btn-light-primary","me-3"],["opacity","0.3","x","12.75","y","4.25","width","12","height","2","rx","1","transform","rotate(90 12.75 4.25)","fill","currentColor"],["d","M12.0573 6.11875L13.5203 7.87435C13.9121 8.34457 14.6232 8.37683 15.056 7.94401C15.4457 7.5543 15.4641 6.92836 15.0979 6.51643L12.4974 3.59084C12.0996 3.14332 11.4004 3.14332 11.0026 3.59084L8.40206 6.51643C8.0359 6.92836 8.0543 7.5543 8.44401 7.94401C8.87683 8.37683 9.58785 8.34458 9.9797 7.87435L11.4427 6.11875C11.6026 5.92684 11.8974 5.92684 12.0573 6.11875Z","fill","currentColor"],["opacity","0.3","d","M18.75 8.25H17.75C17.1977 8.25 16.75 8.69772 16.75 9.25C16.75 9.80228 17.1977 10.25 17.75 10.25C18.3023 10.25 18.75 10.6977 18.75 11.25V18.25C18.75 18.8023 18.3023 19.25 17.75 19.25H5.75C5.19772 19.25 4.75 18.8023 4.75 18.25V11.25C4.75 10.6977 5.19771 10.25 5.75 10.25C6.30229 10.25 6.75 9.80228 6.75 9.25C6.75 8.69772 6.30229 8.25 5.75 8.25H4.75C3.64543 8.25 2.75 9.14543 2.75 10.25V19.25C2.75 20.3546 3.64543 21.25 4.75 21.25H18.75C19.8546 21.25 20.75 20.3546 20.75 19.25V10.25C20.75 9.14543 19.8546 8.25 18.75 8.25Z","fill","currentColor"],["type","button","data-bs-toggle","modal","data-bs-target","#kt_modal_add_customer",1,"btn","btn-primary",3,"click"],["data-kt-customer-table-toolbar","selected",1,"d-flex","justify-content-end","align-items-center"],[1,"fw-bold","me-5"],["data-kt-customer-table-select","selected_count",1,"me-2"],["type","button","data-kt-customer-table-select","delete_selected",1,"btn","btn-danger",3,"click"],["class","badge badge-light-success fw-bold",4,"ngIf"],["class","badge badge-light-danger fw-bold",4,"ngIf"],[1,"text-end"],["ngbDropdown","",1,"btn-group"],["ngbDropdownToggle","","data-kt-menu-trigger","click","data-kt-menu-placement","bottom-end",1,"btn","btn-sm","btn-light","btn-active-light-primary"],["ngbDropdownMenu","","data-kt-menu","true",1,"menu","menu-sub","menu-sub-dropdown","menu-column","menu-rounded","menu-gray-600","menu-state-bg-light-primary","fw-semibold","fs-7","w-125px","py-4"],[1,"menu-item","px-3"],[1,"menu-link","px-3",3,"click"],["data-kt-customer-table-filter","delete_row",1,"menu-link","px-3",3,"click"],["class","menu-link px-3","data-kt-customer-table-filter","delete_row",3,"click",4,"ngIf"],[1,"badge","badge-light-success","fw-bold"],[1,"badge","badge-light-danger","fw-bold"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.ynx(5),t.TgZ(6,"h1",5),t._uU(7,"Danh m\u1ee5c ng\u01b0\u1eddi d\xf9ng"),t.qZA(),t._UZ(8,"app-breadcrumb"),t.BQk(),t.qZA()()(),t.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"span",12),t.O4$(),t.TgZ(16,"svg",13),t._UZ(17,"rect",14)(18,"path",15),t.qZA()(),t.kcU(),t._UZ(19,"input",16),t.qZA()(),t.TgZ(20,"div",17),t.YNc(21,gt,21,0,"ng-container",18),t.YNc(22,ht,8,1,"ng-container",18),t.qZA()(),t.TgZ(23,"div",19)(24,"table",20)(25,"thead")(26,"tr",21)(27,"th",22),t._uU(28,"STT "),t.TgZ(29,"app-sort-icon",23),t.NdJ("sort",function(s){return o.sort(s)}),t.qZA()(),t.TgZ(30,"th",24),t._uU(31,"T\xean \u0111\u0103ng nh\u1eadp "),t.TgZ(32,"app-sort-icon",25),t.NdJ("sort",function(s){return o.sort(s)}),t.qZA()(),t.TgZ(33,"th",24),t._uU(34,"H\u1ecd v\xe0 t\xean "),t.TgZ(35,"app-sort-icon",26),t.NdJ("sort",function(s){return o.sort(s)}),t.qZA()(),t.TgZ(36,"th",24),t._uU(37,"Tr\u1ea1ng th\xe1i "),t.TgZ(38,"app-sort-icon",27),t.NdJ("sort",function(s){return o.sort(s)}),t.qZA()(),t.TgZ(39,"th",24),t._uU(40,"Nh\xf3m ng\u01b0\u1eddi d\xf9ng "),t.TgZ(41,"app-sort-icon",28),t.NdJ("sort",function(s){return o.sort(s)}),t.qZA()(),t.TgZ(42,"th",24),t._uU(43,"T\xean \u0111\u01a1n v\u1ecb "),t.TgZ(44,"app-sort-icon",29),t.NdJ("sort",function(s){return o.sort(s)}),t.qZA()(),t.TgZ(45,"th",30),t._uU(46,"H\xe0nh \u0111\u1ed9ng"),t.qZA()()(),t.TgZ(47,"tbody",31),t.YNc(48,Ct,28,9,"tr",32),t.ALo(49,"async"),t.qZA()(),t.TgZ(50,"app-paginator",33),t.NdJ("paginate",function(s){return o.paginate(s)}),t.qZA()()()()()()()),2&e&&(t.xp6(14),t.Q6J("formGroup",o.searchGroup),t.xp6(7),t.Q6J("ngIf",!o.grouping.getSelectedRowsCount()),t.xp6(1),t.Q6J("ngIf",o.grouping.getSelectedRowsCount()),t.xp6(7),t.Q6J("activeColumn",o.sorting.column)("activeDirection",o.sorting.direction),t.xp6(3),t.Q6J("activeColumn",o.sorting.column)("activeDirection",o.sorting.direction),t.xp6(3),t.Q6J("activeColumn",o.sorting.column)("activeDirection",o.sorting.direction),t.xp6(3),t.Q6J("activeColumn",o.sorting.column)("activeDirection",o.sorting.direction),t.xp6(3),t.Q6J("activeColumn",o.sorting.column)("activeDirection",o.sorting.direction),t.xp6(3),t.Q6J("activeColumn",o.sorting.column)("activeDirection",o.sorting.direction),t.xp6(4),t.Q6J("ngForOf",t.lcZ(49,18,o.userService.items$)),t.xp6(2),t.Q6J("paginator",o.paginator)("isLoading",o.isLoading))},dependencies:[d.sg,d.O5,p.jt,p.iD,p.Vi,a.Fj,a.JJ,a.JL,a.sg,a.u,dt.J,pt.o,mt.L,d.Ov],encapsulation:2}),n})()},{path:"",redirectTo:"list",pathMatch:"full"},{path:"**",redirectTo:"list",pathMatch:"full"}]}];let bt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.Bz.forChild(Et),f.Bz]}),n})();var xt=u(2181),Zt=u(7073);let Ut=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[v],imports:[d.ez,bt,b.vi,x.p0,Z.TU,U.JX,p.IJ,a.u5,a.UX,D.lN,A.c,xt.Tx,E.f,Zt.b]}),n})()}}]);