"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[502],{5899:(B,I,h)=>{h.d(I,{Cv:()=>b,pW:()=>c});var e=h(5e3),v=h(9808),x=h(508),_=h(3191),E=h(727),C=h(4968),k=h(9300);const O=["primaryValueBar"],w=(0,x.pj)(class{constructor(d){this._elementRef=d}},"primary"),F=new e.OlP("mat-progress-bar-location",{providedIn:"root",factory:function A(){const d=(0,e.f3M)(v.K0),f=d?d.location:null;return{getPathname:()=>f?f.pathname+f.search:""}}}),m=new e.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let u=0,c=(()=>{class d extends w{constructor(a,l,T,D,L,H){super(a),this._ngZone=l,this._animationMode=T,this._changeDetectorRef=H,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new e.vpe,this._animationEndSubscription=E.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+u++;const R=D?D.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${R}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===T,L&&(L.color&&(this.color=this.defaultColor=L.color),this.mode=L.mode||this.mode)}get value(){return this._value}set value(a){var l;this._value=p((0,_.su)(a)||0),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(a){var l;this._bufferValue=p(a||0),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const a=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,C.R)(a,"transitionend").pipe((0,k.h)(l=>l.target===a)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return d.\u0275fac=function(a){return new(a||d)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.QbO,8),e.Y36(F,8),e.Y36(m,8),e.Y36(e.sBO))},d.\u0275cmp=e.Xpm({type:d,selectors:[["mat-progress-bar"]],viewQuery:function(a,l){if(1&a&&e.Gf(O,5),2&a){let T;e.iGM(T=e.CRH())&&(l._primaryValueBar=T.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(a,l){2&a&&(e.uIk("aria-valuenow","indeterminate"===l.mode||"query"===l.mode?null:l.value)("mode",l.mode),e.ekj("_mat-animation-noopable",l._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[e.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(a,l){1&a&&(e.TgZ(0,"div",0),e.O4$(),e.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),e._UZ(4,"circle",3),e.qZA()(),e._UZ(5,"rect",4),e.qZA(),e.kcU(),e._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),e.qZA()),2&a&&(e.xp6(3),e.Q6J("id",l.progressbarId),e.xp6(2),e.uIk("fill",l._rectangleFillValue),e.xp6(1),e.Q6J("ngStyle",l._bufferTransform()),e.xp6(1),e.Q6J("ngStyle",l._primaryTransform()))},dependencies:[v.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),d})();function p(d,f=0,a=100){return Math.max(f,Math.min(a,d))}let b=(()=>{class d{}return d.\u0275fac=function(a){return new(a||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[v.ez,x.BQ,x.BQ]}),d})()},4331:(B,I,h)=>{h.d(I,{YR:()=>X,rP:()=>ee});var e=h(5e3),v=h(4968),x=h(4004),_=h(9300),E=h(8372),C=h(3075),k=h(9808);const O=["searchInput"],w=["filteredListElement"],F=["historyListElement"];function A(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",14),e.NdJ("click",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.remove(n))}),e.TgZ(1,"i",15),e._uU(2,"close"),e.qZA()()}}function m(s,r){1&s&&(e.TgZ(0,"div",16),e._UZ(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",20)(5,"div",21)(6,"div",22)(7,"div",23)(8,"div",24)(9,"div",25)(10,"div",26)(11,"div",27)(12,"div",28),e.qZA())}function u(s,r){if(1&s&&(e.TgZ(0,"div",29)(1,"div",30),e._uU(2),e.qZA()()),2&s){const t=e.oxw();e.xp6(2),e.Oqu(t.heading)}}function c(s,r){1&s&&e.GkF(0)}const p=function(s){return{$implicit:s}};function b(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw();return e.KtG(o.select(n))}),e.YNc(1,c,1,0,"ng-container",34),e.ALo(2,"highlight"),e.qZA()}if(2&s){const t=e.oxw(),i=t.index,n=t.$implicit,o=e.oxw();e.ekj("complete-selected",i===o.selectedIdx),e.xp6(1),e.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",e.VKq(7,p,e.xi3(2,4,n,o.toHighlight)))}}function d(s,r){1&s&&e.GkF(0)}function f(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw();return e.KtG(o.select(n))}),e.YNc(1,d,1,0,"ng-container",34),e.ALo(2,"highlight"),e.qZA()}if(2&s){const t=e.oxw(),i=t.index,n=t.$implicit,o=e.oxw();e.ekj("complete-selected",i===o.selectedIdx),e.xp6(1),e.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",e.VKq(8,p,e.Dn7(2,4,n,o.toHighlight,o.searchKeyword)))}}function a(s,r){if(1&s&&(e.TgZ(0,"li",31),e.YNc(1,b,3,9,"div",32),e.YNc(2,f,3,10,"div",32),e.qZA()),2&s){const t=r.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.isTypeString(t)),e.xp6(1),e.Q6J("ngIf",!i.isTypeString(t))}}function l(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30),e._uU(2),e.qZA(),e.TgZ(3,"div",14),e.NdJ("click",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.resetHistoryList(n))}),e.TgZ(4,"i",35),e._uU(5,"delete"),e.qZA()()()}if(2&s){const t=e.oxw();e.xp6(2),e.Oqu(t.historyHeading)}}function T(s,r){1&s&&e.GkF(0)}function D(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw();return e.KtG(o.select(n))}),e.YNc(1,T,1,0,"ng-container",34),e.qZA()}if(2&s){const t=e.oxw(),i=t.index,n=t.$implicit,o=e.oxw();e.ekj("complete-selected",i===o.selectedIdx),e.xp6(1),e.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",e.VKq(4,p,n))}}function L(s,r){1&s&&e.GkF(0)}function H(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw();return e.KtG(o.select(n))}),e.YNc(1,L,1,0,"ng-container",34),e.qZA()}if(2&s){const t=e.oxw(),i=t.index,n=t.$implicit,o=e.oxw();e.ekj("complete-selected",i===o.selectedIdx),e.xp6(1),e.Q6J("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",e.VKq(4,p,n))}}function R(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"li",31),e.YNc(1,D,2,6,"div",32),e.YNc(2,H,2,6,"div",32),e.TgZ(3,"div",14),e.NdJ("click",function(n){const y=e.CHM(t).index,g=e.oxw();return e.KtG(g.removeHistoryItem(y,n))}),e.TgZ(4,"i",15),e._uU(5,"close"),e.qZA()()()}if(2&s){const t=r.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.isTypeString(t)),e.xp6(1),e.Q6J("ngIf",!i.isTypeString(t))}}function $(s,r){1&s&&e.GkF(0)}function q(s,r){if(1&s&&(e.TgZ(0,"div",36),e.YNc(1,$,1,0,"ng-container",34),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.notFoundTemplate)("ngTemplateOutletContext",e.VKq(2,p,t.notFoundText))}}function J(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",37),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.handleOverlay())}),e.qZA()}}const U=function(s){return{active:s}},V=function(s,r){return{"is-hidden":s,"is-visible":r}};let G=(()=>{class s{transform(t,i,n){let o=i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");o=o.split(" ").filter(g=>g.length>0).join("|");const y=new RegExp(o,"gi");if(!i)return t;if(n){const g=t[n].replace(y,M=>`<b>${M}</b>`),S=Object.assign({},t);return S[n]=g,S}return i?t.replace(y,g=>`<b>${g}</b>`):t}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275pipe=e.Yjl({name:"highlight",type:s,pure:!0}),s})();const Z=s=>(s=>38===s)(s)||(s=>40===s)(s),P=s=>13===s,K=s=>27===s,N=s=>9===s;let X=(()=>{class s{constructor(t,i){this.renderer=i,this.query="",this.filteredList=[],this.historyList=[],this.isHistoryListVisible=!0,this.selectedIdx=-1,this.toHighlight="",this.notFound=!1,this.isFocused=!1,this.isOpen=!1,this.isScrollToEnd=!1,this.overlay=!1,this.manualOpen=void 0,this.manualClose=void 0,this.data=[],this.placeholder="",this.heading="",this.historyHeading="Recently selected",this.historyListMaxNumber=15,this.notFoundText="Not found",this.minQueryLength=1,this.focusFirst=!1,this.selected=new e.vpe,this.inputChanged=new e.vpe,this.inputFocused=new e.vpe,this.inputCleared=new e.vpe,this.opened=new e.vpe,this.closed=new e.vpe,this.scrolledToEnd=new e.vpe,this.propagateChange=()=>{},this.onTouched=()=>{},this.elementRef=t}writeValue(t=""){this.query=void 0!==this.selectedValueRender?this.selectedValueRender(t):this.defaultWriteValue(t)}defaultWriteValue(t){return t&&!this.isTypeString(t)?t[this.searchKeyword]:t}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){this.onTouched=t}onChange(t){this.propagateChange(t.target.value)}setDisabledState(t){this.disabled=t}ngOnInit(){}ngAfterViewInit(){this.initEventStream(),this.handleScroll()}setInitialValue(t){this.initialValue&&this.select(t)}ngOnChanges(t){this.setInitialValue(this.initialValue),t&&t.data&&Array.isArray(t.data.currentValue)&&(this.handleItemsChange(),!t.data.firstChange&&this.isFocused&&this.handleOpen())}handleItemsChange(){this.isScrollToEnd=!1,this.isOpen&&(this.filteredList=this.data,this.notFound=!this.filteredList||0===this.filteredList.length,this.isOpen&&this.filterList())}filterList(){this.selectedIdx=-1,this.initSearchHistory(),null!=this.query&&this.data?(this.toHighlight=this.query,this.filteredList=void 0!==this.customFilter?this.customFilter([...this.data],this.query):this.defaultFilterFunction(),this.filteredList.length>0&&this.focusFirst&&(this.selectedIdx=0)):this.notFound=!1}defaultFilterFunction(){return this.data.filter(t=>"string"==typeof t?t.toLowerCase().indexOf(this.query.toLowerCase())>-1:"object"==typeof t&&t instanceof Object?t[this.searchKeyword]?t[this.searchKeyword].toLowerCase().indexOf(this.query.toLowerCase())>-1:"":void 0)}isTypeString(t){return"string"==typeof t}select(t){if(this.query=this.isTypeString(t)?t:t[this.searchKeyword],this.isOpen=!0,this.overlay=!1,this.selected.emit(t),this.propagateChange(t),this.initialValue)if(window.localStorage.getItem(`${this.historyIdentifier}`)){let n=JSON.parse(localStorage[`${this.historyIdentifier}`]);if(n instanceof Array||(n=[]),n.some(o=>this.isTypeString(o)?o==t:o[this.searchKeyword]==t[this.searchKeyword]))if(this.isTypeString(t)){const o=n.slice();o.splice(o.indexOf(t),1),o.splice(0,0,t),localStorage.setItem(`${this.historyIdentifier}`,JSON.stringify(o))}else{const o=n.slice(),y=o.map(g=>g[this.searchKeyword]).indexOf(t[this.searchKeyword]);o.splice(y,1),o.splice(0,0,t),localStorage.setItem(`${this.historyIdentifier}`,JSON.stringify(o))}else n.unshift(t),localStorage.setItem(`${this.historyIdentifier}`,JSON.stringify(n)),n.length>=this.historyListMaxNumber&&(n.splice(n.length-1,1),localStorage.setItem(`${this.historyIdentifier}`,JSON.stringify(n)))}else this.saveHistory(t);else this.saveHistory(t);this.handleClose()}handleClick(t){let i=t.target,n=!1;do{i===this.elementRef.nativeElement&&(n=!0,this.filteredList.length&&this.handleOpen()),i=i.parentNode}while(i);n||this.handleClose()}handleOverlay(){this.overlay=!1}handleScroll(){this.renderer.listen(this.filteredListElement.nativeElement,"scroll",()=>{this.scrollToEnd()})}setPanelState(t){t&&t.stopPropagation(),void 0===this.manualOpen&&void 0===this.manualClose&&(this.isOpen=!1,this.handleOpen()),(void 0===this.manualOpen&&!1===this.manualClose||void 0===this.manualClose&&!1===this.manualOpen)&&(this.isOpen=!1,this.handleOpen()),!1===this.manualOpen&&!1===this.manualClose&&(this.isOpen=!1,this.handleOpen()),this.manualOpen&&(this.isOpen=!1,this.handleOpen(),this.manualOpen=!1),this.manualClose&&(this.isOpen=!0,this.handleClose(),this.manualClose=!1)}open(){this.manualOpen=!0,this.isOpen=!1,this.handleOpen()}close(){this.manualClose=!0,this.isOpen=!0,this.handleClose()}focus(){this.handleFocus(event)}clear(){this.remove(event)}remove(t){t.stopPropagation(),this.query="",this.inputCleared.emit(),this.propagateChange(this.query),this.setPanelState(t),this.data&&!this.data.length&&(this.notFound=!1)}initSearchHistory(){if(this.isHistoryListVisible=!1,this.historyIdentifier&&!this.query){const t=window.localStorage.getItem(`${this.historyIdentifier}`);t?(this.isHistoryListVisible=!0,this.filteredList=[],this.historyList=t?JSON.parse(t):[]):this.isHistoryListVisible=!1}else this.isHistoryListVisible=!1}handleOpen(){this.isOpen||this.isOpen&&!this.isLoading||this.data&&this.data.length&&(this.isOpen=!0,this.overlay=!0,this.filterList(),this.opened.emit())}handleClose(){this.isOpen?(this.isOpen=!1,this.overlay=!1,this.filteredList=[],this.selectedIdx=-1,this.notFound=!1,this.isHistoryListVisible=!1,this.isFocused=!1,this.closed.emit()):this.isFocused=!1}handleFocus(t){this.searchInput.nativeElement.focus(),!this.isFocused&&(this.inputFocused.emit(t),this.data&&this.data.length&&this.setPanelState(t),this.isFocused=!0)}scrollToEnd(){if(this.isScrollToEnd)return;const n=this.filteredListElement.nativeElement.clientHeight;0!=n&&Math.abs(this.filteredListElement.nativeElement.scrollHeight-n-this.filteredListElement.nativeElement.scrollTop)<1&&(this.scrolledToEnd.emit(),this.isScrollToEnd=!0)}initEventStream(){this.inputKeyUp$=(0,v.R)(this.searchInput.nativeElement,"keyup").pipe((0,x.U)(t=>t)),this.inputKeyDown$=(0,v.R)(this.searchInput.nativeElement,"keydown").pipe((0,x.U)(t=>t)),this.listenEventStream()}listenEventStream(){this.inputKeyUp$.pipe((0,_.h)(t=>!(Z(t.keyCode)||P(t.keyCode)||K(t.keyCode)||N(t.keyCode))),(0,E.b)(this.debounceTime)).subscribe(t=>{this.onKeyUp(t)}),this.inputKeyDown$.pipe((0,_.h)(t=>Z(t.keyCode))).subscribe(t=>{t.preventDefault(),this.onFocusItem(t)}),this.inputKeyUp$.pipe((0,_.h)(t=>P(t.keyCode))).subscribe(t=>{}),this.inputKeyDown$.pipe((0,_.h)(t=>P(t.keyCode))).subscribe(t=>{this.onHandleEnter()}),this.inputKeyUp$.pipe((0,_.h)(t=>K(t.keyCode),(0,E.b)(100))).subscribe(t=>{this.onEsc()}),this.inputKeyDown$.pipe((0,_.h)(t=>N(t.keyCode))).subscribe(t=>{this.onTab()}),this.inputKeyDown$.pipe((0,_.h)(t=>(s=>8===s)(t.keyCode)||(s=>46===s)(t.keyCode))).subscribe(t=>{this.onDelete()})}onKeyUp(t){this.notFound=!1,this.query||(this.notFound=!1,this.inputChanged.emit(t.target.value),this.inputCleared.emit(),this.setPanelState(t)),(this.query||""===this.query)&&this.query.length>=this.minQueryLength&&(this.inputChanged.emit(t.target.value),this.filterList(),!this.filteredList.length&&!this.isLoading&&(this.notFound=!!this.notFoundText),this.data&&!this.data.length&&(this.isOpen=!0))}onFocusItem(t){if(this.historyList.length&&this.isHistoryListVisible){const i=this.historyList.length;if("ArrowDown"===t.key){let n=this.selectedIdx;n=null===this.selectedIdx?0:n+1,this.selectedIdx=(i+n)%i,this.scrollToFocusedItem(this.selectedIdx)}else"ArrowUp"===t.key&&(-1==this.selectedIdx&&(this.selectedIdx=0),this.selectedIdx=(i+this.selectedIdx-1)%i,this.scrollToFocusedItem(this.selectedIdx))}else{const i=this.filteredList.length;if("ArrowDown"===t.key){let n=this.selectedIdx;n=null===this.selectedIdx?0:n+1,this.selectedIdx=(i+n)%i,this.scrollToFocusedItem(this.selectedIdx)}else"ArrowUp"===t.key&&(-1==this.selectedIdx&&(this.selectedIdx=0),this.selectedIdx=(i+this.selectedIdx-1)%i,this.scrollToFocusedItem(this.selectedIdx))}}scrollToFocusedItem(t){let i=null;i=this.historyList.length&&this.isHistoryListVisible?this.historyListElement.nativeElement:this.filteredListElement.nativeElement;const n=Array.prototype.slice.call(i.childNodes).filter(Q=>1===Q.nodeType&&Q.className.includes("item"));if(!n.length)return;const o=i.offsetHeight,y=n[t].offsetHeight,S=i.scrollTop+o-y,M=n[t].offsetTop;M<i.scrollTop&&(i.scrollTop=M),M>S&&(i.scrollTop=M-o+y)}onHandleEnter(){this.selectedIdx>-1&&(this.historyList.length&&this.isHistoryListVisible?(this.query=this.isTypeString(this.historyList[this.selectedIdx])?this.historyList[this.selectedIdx]:this.historyList[this.selectedIdx][this.searchKeyword],this.saveHistory(this.historyList[this.selectedIdx]),this.select(this.historyList[this.selectedIdx])):(this.query=this.isTypeString(this.filteredList[this.selectedIdx])?this.filteredList[this.selectedIdx]:this.filteredList[this.selectedIdx][this.searchKeyword],this.saveHistory(this.filteredList[this.selectedIdx]),this.select(this.filteredList[this.selectedIdx]))),this.isHistoryListVisible=!1,this.handleClose()}onEsc(){this.searchInput.nativeElement.blur(),this.handleClose()}onTab(){this.searchInput.nativeElement.blur(),this.handleClose()}onDelete(){this.isOpen=!0}saveHistory(t){if(this.historyIdentifier)if(this.historyList.some(i=>this.isTypeString(i)?i==t:i[this.searchKeyword]==t[this.searchKeyword]))if(this.isTypeString(t)){const i=this.historyList.slice();i.splice(this.historyList.indexOf(t),1),i.splice(0,0,t),this.saveHistoryToLocalStorage([...i])}else{const i=this.historyList.slice(),n=i.map(o=>o[this.searchKeyword]).indexOf(t[this.searchKeyword]);i.splice(n,1),i.splice(0,0,t),this.saveHistoryToLocalStorage([...i])}else this.saveHistoryToLocalStorage([t,...this.historyList]),this.historyList.length>=this.historyListMaxNumber&&(this.historyList.splice(this.historyList.length-1,1),this.saveHistoryToLocalStorage([t,...this.historyList]))}saveHistoryToLocalStorage(t){window.localStorage.setItem(`${this.historyIdentifier}`,JSON.stringify(t))}removeHistoryItem(t,i){i.stopPropagation(),this.historyList=this.historyList.filter((n,o)=>o!==t),this.saveHistoryToLocalStorage(this.historyList),0==this.historyList.length&&(window.localStorage.removeItem(`${this.historyIdentifier}`),this.filterList())}resetHistoryList(t){t.stopPropagation(),this.historyList=[],window.localStorage.removeItem(`${this.historyIdentifier}`),this.filterList()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.SBq),e.Y36(e.Qsj))},s.\u0275cmp=e.Xpm({type:s,selectors:[["ng-autocomplete"]],contentQueries:function(t,i,n){if(1&t&&e.Suo(n,e.Rgc,5),2&t){let o;e.iGM(o=e.CRH())&&(i.customTemplate=o.first)}},viewQuery:function(t,i){if(1&t&&(e.Gf(O,5),e.Gf(w,5),e.Gf(F,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.searchInput=n.first),e.iGM(n=e.CRH())&&(i.filteredListElement=n.first),e.iGM(n=e.CRH())&&(i.historyListElement=n.first)}},hostAttrs:[1,"ng-autocomplete"],hostBindings:function(t,i){1&t&&e.NdJ("click",function(o){return i.handleClick(o)},!1,e.evT)},inputs:{data:"data",searchKeyword:"searchKeyword",placeholder:"placeholder",heading:"heading",initialValue:"initialValue",historyIdentifier:"historyIdentifier",historyHeading:"historyHeading",historyListMaxNumber:"historyListMaxNumber",notFoundText:"notFoundText",isLoading:"isLoading",debounceTime:"debounceTime",disabled:"disabled",minQueryLength:"minQueryLength",focusFirst:"focusFirst",customFilter:"customFilter",selectedValueRender:"selectedValueRender",itemTemplate:"itemTemplate",notFoundTemplate:"notFoundTemplate"},outputs:{selected:"selected",inputChanged:"inputChanged",inputFocused:"inputFocused",inputCleared:"inputCleared",opened:"opened",closed:"closed",scrolledToEnd:"scrolledToEnd"},features:[e._Bn([{provide:C.JU,useExisting:(0,e.Gpc)(()=>s),multi:!0}]),e.TTD],decls:18,vars:24,consts:[["aria-owns","suggestions suggestions-history",1,"autocomplete-container",3,"ngClass"],[1,"input-container"],["type","text","aria-autocomplete","list","role","combobox","autocomplete","off",3,"placeholder","ngModel","disabled","ngModelChange","input","focus","blur"],["searchInput",""],["class","x",3,"click",4,"ngIf"],["class","sk-fading-circle",4,"ngIf"],["id","suggestions","role","listbox",1,"suggestions-container",3,"ngClass"],["class","heading",4,"ngIf"],["filteredListElement",""],["class","item",4,"ngFor","ngForOf"],["id","suggestions-history","role","listbox",1,"suggestions-container",3,"ngClass"],["historyListElement",""],["class","not-found",4,"ngIf"],["class","autocomplete-overlay",3,"click",4,"ngIf"],[1,"x",3,"click"],["aria-label","Close",1,"material-icons"],[1,"sk-fading-circle"],[1,"sk-circle1","sk-circle"],[1,"sk-circle2","sk-circle"],[1,"sk-circle3","sk-circle"],[1,"sk-circle4","sk-circle"],[1,"sk-circle5","sk-circle"],[1,"sk-circle6","sk-circle"],[1,"sk-circle7","sk-circle"],[1,"sk-circle8","sk-circle"],[1,"sk-circle9","sk-circle"],[1,"sk-circle10","sk-circle"],[1,"sk-circle11","sk-circle"],[1,"sk-circle12","sk-circle"],[1,"heading"],[1,"text"],[1,"item"],[3,"complete-selected","click",4,"ngIf"],[3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-label","Delete",1,"material-icons"],[1,"not-found"],[1,"autocomplete-overlay",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("ngModelChange",function(o){return i.query=o})("input",function(o){return i.onChange(o)})("focus",function(o){return i.handleFocus(o)})("blur",function(o){return i.onTouched(o)}),e.qZA(),e.YNc(4,A,3,0,"div",4),e.YNc(5,m,13,0,"div",5),e.qZA(),e.TgZ(6,"div",6),e.YNc(7,u,3,1,"div",7),e.TgZ(8,"ul",null,8),e.YNc(10,a,3,2,"li",9),e.qZA()(),e.TgZ(11,"div",10),e.YNc(12,l,6,1,"div",7),e.TgZ(13,"ul",null,11),e.YNc(15,R,6,2,"li",9),e.qZA()(),e.YNc(16,q,2,4,"div",12),e.qZA(),e.YNc(17,J,1,0,"div",13)),2&t&&(e.Q6J("ngClass",e.VKq(16,U,i.isOpen)),e.uIk("aria-expanded",i.isOpen),e.xp6(2),e.s9C("placeholder",i.placeholder),e.Q6J("ngModel",i.query)("disabled",i.disabled),e.uIk("aria-label",i.placeholder),e.xp6(2),e.Q6J("ngIf",i.query&&!i.isLoading&&!i.disabled),e.xp6(1),e.Q6J("ngIf",i.isLoading),e.xp6(1),e.Q6J("ngClass",e.WLB(18,V,i.isHistoryListVisible,!i.isHistoryListVisible)),e.xp6(1),e.Q6J("ngIf",i.filteredList.length>0&&i.heading),e.xp6(3),e.Q6J("ngForOf",i.filteredList),e.xp6(1),e.Q6J("ngClass",e.WLB(21,V,!i.isHistoryListVisible,i.isHistoryListVisible)),e.xp6(1),e.Q6J("ngIf",i.historyList.length>0&&i.historyHeading),e.xp6(3),e.Q6J("ngForOf",i.historyList),e.xp6(1),e.Q6J("ngIf",i.isLoading?!i.isLoading&&i.notFound:i.notFound),e.xp6(1),e.Q6J("ngIf",i.overlay))},dependencies:[k.mk,C.Fj,C.JJ,C.On,k.O5,k.sg,k.tP,G],styles:['@import"https://fonts.googleapis.com/icon?family=Material+Icons";.ng-autocomplete{width:600px}.autocomplete-container{box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;position:relative;overflow:visible;height:40px}.autocomplete-container .input-container input{font-size:14px;box-sizing:border-box;border:none;box-shadow:none;outline:none;background-color:#fff;color:#000000de;width:100%;padding:0 15px;line-height:40px;height:40px}.autocomplete-container .input-container input:disabled{background-color:#eee;color:#666}.autocomplete-container .input-container .x{position:absolute;right:10px;margin:auto;cursor:pointer;top:50%;transform:translateY(-50%)}.autocomplete-container .input-container .x i{color:#0000008a;font-size:22px;vertical-align:middle}.autocomplete-container .suggestions-container{position:absolute;width:100%;background:white;height:auto;box-shadow:0 2px 5px #00000040;box-sizing:border-box}.autocomplete-container .suggestions-container ul{padding:0;margin:0;max-height:240px;overflow-y:auto}.autocomplete-container .suggestions-container ul li{position:relative;list-style:none;padding:0;margin:0;cursor:pointer}.autocomplete-container .suggestions-container ul li a{padding:14px 15px;display:block;text-decoration:none;color:#333;cursor:pointer;color:#000000de;font-size:15px}.autocomplete-container .suggestions-container ul li:hover,.autocomplete-container .suggestions-container .complete-selected{background-color:#9e9e9e2e}.autocomplete-container .suggestions-container .heading{position:relative;padding:10px 15px;border:solid 1px #f1f1f1}.autocomplete-container .suggestions-container .heading .text{font-size:.85em}.autocomplete-container .suggestions-container .x{position:absolute;right:10px;margin:auto;cursor:pointer;top:50%;transform:translateY(-50%)}.autocomplete-container .suggestions-container .x i{color:#0000008a;font-size:18px;vertical-align:middle}.autocomplete-container .suggestions-container.is-hidden{visibility:hidden}.autocomplete-container .suggestions-container.is-visible{visibility:visible}.autocomplete-container .not-found{padding:0 .75em;border:solid 1px #f1f1f1;background:white}.autocomplete-container .not-found div{padding:.4em 0;font-size:.95em;line-height:1.4;border-bottom:1px solid rgba(230,230,230,.7)}.autocomplete-container.active{z-index:999}.highlight{font-weight:700}.autocomplete-overlay{position:fixed;background-color:transparent;width:100%;height:100%;top:0;right:0;bottom:0;left:0;z-index:50}input[type=text]::-ms-clear{display:none}.sk-fading-circle{width:20px;height:20px;position:absolute;right:10px;top:0;bottom:0;margin:auto}.sk-fading-circle .sk-circle{width:100%;height:100%;position:absolute;left:0;top:0}.sk-fading-circle .sk-circle:before{content:"";display:block;margin:0 auto;width:15%;height:15%;background-color:#333;border-radius:100%;animation:sk-circleFadeDelay 1.2s infinite ease-in-out both}.sk-fading-circle .sk-circle2{transform:rotate(30deg)}.sk-fading-circle .sk-circle3{transform:rotate(60deg)}.sk-fading-circle .sk-circle4{transform:rotate(90deg)}.sk-fading-circle .sk-circle5{transform:rotate(120deg)}.sk-fading-circle .sk-circle6{transform:rotate(150deg)}.sk-fading-circle .sk-circle7{transform:rotate(180deg)}.sk-fading-circle .sk-circle8{transform:rotate(210deg)}.sk-fading-circle .sk-circle9{transform:rotate(240deg)}.sk-fading-circle .sk-circle10{transform:rotate(270deg)}.sk-fading-circle .sk-circle11{transform:rotate(300deg)}.sk-fading-circle .sk-circle12{transform:rotate(330deg)}.sk-fading-circle .sk-circle2:before{animation-delay:-1.1s}.sk-fading-circle .sk-circle3:before{animation-delay:-1s}.sk-fading-circle .sk-circle4:before{animation-delay:-.9s}.sk-fading-circle .sk-circle5:before{animation-delay:-.8s}.sk-fading-circle .sk-circle6:before{animation-delay:-.7s}.sk-fading-circle .sk-circle7:before{animation-delay:-.6s}.sk-fading-circle .sk-circle8:before{animation-delay:-.5s}.sk-fading-circle .sk-circle9:before{animation-delay:-.4s}.sk-fading-circle .sk-circle10:before{animation-delay:-.3s}.sk-fading-circle .sk-circle11:before{animation-delay:-.2s}.sk-fading-circle .sk-circle12:before{animation-delay:-.1s}@keyframes sk-circleFadeDelay{0%,39%,to{opacity:0}40%{opacity:1}}\n'],encapsulation:2}),s})(),ee=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[k.ez,C.u5]]}),s})()},315:(B,I,h)=>{h.d(I,{ND:()=>A});var e=h(5e3),v=h(3075),x=h(9808);let A=(()=>{class m{}return m.\u0275fac=function(c){return new(c||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[x.ez,v.u5]}),m})()}}]);